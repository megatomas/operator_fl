<!DOCTYPE html>
<html>
<head>
<script src="scripts.js"></script>

<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Форма ввода</title>
<link href="styles_fl.css" rel="stylesheet" type="text/css"/>
<style>
    .error {
      border: 2px solid red;
    }
</style>
<!-- Include flatpickr CSS -->
<link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet"/>
</head>
<body>
<form data-content-type="web_app_data" enctype="multipart/form-data">

        <label for="f_fl">!Фамилия:</label>
        <input type="text" id="f_fl" name="f_fl" required pattern="[а-яА-ЯёЁa-zA-Z]+" placeholder="Введите фамилию">
        <br>

        <label for="i_fl">Имя:</label>
        <input type="text" id="i_fl" name="i_fl" required pattern="[а-яА-ЯёЁa-zA-Z]+" placeholder="Введите имя">
        <br>

        <label for="o_fl">Отчество:</label>
        <input type="text" id="o_fl" name="o_fl" required pattern="[а-яА-ЯёЁa-zA-Z]+" placeholder="Введите отчество">
        <br>

        <label for="city_fl">Город:</label>
        <input type="text" id="city_fl" name="city_fl" required pattern="[а-яА-ЯёЁa-zA-Z]+" placeholder="Введите город">
        <br>

        <label for="street_fl">Улица:</label>
        <input type="text" id="street_fl" name="street_fl" placeholder="Введите улицу">
        <br>


        <label for="house_fl">Номер дома:</label>
        <input type="text" id="house_fl" name="room_fl" required pattern="[0-9а-яА-Яa-zA-Z]+" placeholder="Введите номер дома">
        <br>



        <label for="room_fl">Номер квартиры:</label>
        <input type="text" id="room_fl" name="room_fl" required pattern="[0-9]+" placeholder="Если есть" value="0">
        <br>


        <label for="post_index_fl">Почтовый индекс:</label>
        <input type="text" id="post_index_fl" name="post_index_fl" required pattern="[0-9]{6}" placeholder="6 цифр">
        <br>

        <label for="phone_fl">Телефон:</label>
        <input type="text" id="phone_fl" name="phone_fl" required pattern="\+7[0-9]{10}" placeholder="Введите телефон в формате +7XXXXXXXXXX" value="+7">
        <br>

        <label for="email_fl">Email:</label>
        <input type="text" id="email_fl" name="email_fl" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}" placeholder="Введите email">
        <br>

        <label for="pasport_serial_fl">Серия паспорта:</label>
        <input type="text" id="pasport_serial_fl" name="pasport_serial_fl" required pattern="[0-9]{4}" placeholder="4 цифры">
        <br>

        <label for="pasport_number_fl">Номер паспорта:</label>
        <input type="text" id="pasport_number_fl" name="pasport_number_fl" required pattern="[0-9]{6}" placeholder="6 цифр">
        <br>

        <label for="date_fl">Дата выдачи паспорта (дд.мм.гггг):</label>
        <input type="text" id="date_fl" name="date_fl" placeholder="Введите дату в формате дд.мм.гггг">
        <br>

        <label for="inn_fl">ИНН:</label>
        <input type="text" id="inn_fl" name="inn_fl" required pattern="[0-9]{12}" placeholder="12 цифр">
        <br>


        <label for="snils_fl">СНИЛС:</label>
        <input type="text" id="snils_fl" name="snils_fl" required pattern="[0-9]{3}-[0-9]{3}-[0-9]{3} [0-9]{2}" placeholder="11 цифр">
        <br>

        <label for="name_bank">Название банка:</label>
        <input type="text" id="name_bank" name="name_bank" required pattern="[0-9а-яА-Яa-zA-Z]+" placeholder="Введите название банка">
        <br>

        <label for="rs_fl">Расчетный счет:</label>
        <input type="text" id="rs_fl" name="rs_fl" required pattern="408[0-9]{17}" placeholder="Введите расчетный счет (20 цифр)" value="408">
        <br>

        <label for="ks_fl">Корреспондентский счет:</label>
        <input type="text" id="ks_fl" name="ks_fl" required pattern="30101[0-9]{15}" placeholder="20 цифр начиная с 30101" value="30101">
        <br>


        <label for="bik_fl">БИК:</label>
<input type="text" id="bik_fl" name="bik_fl" required pattern="04[0-9]{7}" placeholder="9 цифр" value="04">
<br>



        <button id="submit" type="submit">Создать заявку</button>
        <button type="button" id="cancel-button">Отмена</button>

    </form>

<script>
document.addEventListener("DOMContentLoaded", function () {
  let tg = window.Telegram.WebApp;

  // Получение кнопки отправки формы
let submitButton = document.getElementById("submit");

  submitButton.addEventListener("click", function () {
    // Собираем данные из полей формы
    let data = {
      f_fl: document.getElementById("f_fl").value,
      i_fl: document.getElementById("i_fl").value,
      o_fl: document.getElementById("o_fl").value,
      city_fl: document.getElementById("city_fl").value,
      // Другие поля формы
    };

    // Отправляем данные в телеграм-бота
    tg.sendData(JSON.stringify(data));

    // Закрываем окно
    tg.close();
  });
});
</script>

</body>
</html>
